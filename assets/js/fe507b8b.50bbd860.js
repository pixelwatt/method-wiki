(self.webpackChunkmethod_docs=self.webpackChunkmethod_docs||[]).push([[5935],{3905:function(e,t,o){"use strict";o.d(t,{Zo:function(){return c},kt:function(){return p}});var n=o(7294);function r(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function a(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function i(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?a(Object(o),!0).forEach((function(t){r(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):a(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function l(e,t){if(null==e)return{};var o,n,r=function(e,t){if(null==e)return{};var o,n,r={},a=Object.keys(e);for(n=0;n<a.length;n++)o=a[n],t.indexOf(o)>=0||(r[o]=e[o]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)o=a[n],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(r[o]=e[o])}return r}var s=n.createContext({}),d=function(e){var t=n.useContext(s),o=t;return e&&(o="function"==typeof e?e(t):i(i({},t),e)),o},c=function(e){var t=d(e.components);return n.createElement(s.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},u=n.forwardRef((function(e,t){var o=e.components,r=e.mdxType,a=e.originalType,s=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),u=d(o),p=r,h=u["".concat(s,".").concat(p)]||u[p]||m[p]||a;return o?n.createElement(h,i(i({ref:t},c),{},{components:o})):n.createElement(h,i({ref:t},c))}));function p(e,t){var o=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var a=o.length,i=new Array(a);i[0]=u;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:r,i[1]=l;for(var d=2;d<a;d++)i[d]=o[d];return n.createElement.apply(null,i)}return n.createElement.apply(null,o)}u.displayName="MDXCreateElement"},7533:function(e,t,o){"use strict";o.r(t),o.d(t,{frontMatter:function(){return l},metadata:function(){return s},toc:function(){return d},default:function(){return m}});var n=o(2122),r=o(9756),a=(o(7294),o(3905)),i=["components"],l={},s={unversionedId:"method-layout/methods/get_serialized_loaded_meta()",id:"method-layout/methods/get_serialized_loaded_meta()",isDocsHomePage:!1,title:"get_serialized_loaded_meta()",description:"public function getserializedloaded_meta( $key )",source:"@site/docs/method-layout/methods/get_serialized_loaded_meta().md",sourceDirName:"method-layout/methods",slug:"/method-layout/methods/get_serialized_loaded_meta()",permalink:"/method-wiki/docs/method-layout/methods/get_serialized_loaded_meta()",version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"get_option()",permalink:"/method-wiki/docs/method-layout/methods/get_option()"},next:{title:"get_serialized_meta()",permalink:"/method-wiki/docs/method-layout/methods/get_serialized_meta()"}},d=[{value:"Arguments",id:"arguments",children:[]},{value:"Example",id:"example",children:[]}],c={toc:d};function m(e){var t=e.components,o=(0,r.Z)(e,i);return(0,a.kt)("wrapper",(0,n.Z)({},c,o,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"public function get_serialized_loaded_meta( $key )")),(0,a.kt)("p",null,"This method allows you to quickly retrieve and unserialize loaded serialized post meta loaded using the load_meta() method, which must first be called for this method to function correctly. If the loaded meta key doesn't exist, or is empty, the method returns false. To retrieve loaded post meta that does not need to be unserialized, use the ",(0,a.kt)("a",{parentName:"p",href:"/docs/method-layout/methods/get_loaded_meta()"},"get_loaded_meta()")," method."),(0,a.kt)("hr",null),(0,a.kt)("h2",{id:"arguments"},"Arguments"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"$key"),(0,a.kt)("br",{parentName:"li"}),(0,a.kt)("em",{parentName:"li"},"(string)")," ",(0,a.kt)("em",{parentName:"li"},"(required)")," The meta key to pull from the $meta property and unserialize (where all meta for the current post is stored)  ")),(0,a.kt)("hr",null),(0,a.kt)("h2",{id:"example"},"Example"),(0,a.kt)("p",null,"For this example, let's imagine that we have a custom post type called ",(0,a.kt)("inlineCode",{parentName:"p"},"locations"),". For each location a content editor adds, we've used CMB2 to create a filelist field (stored as serialized post meta with the key ",(0,a.kt)("inlineCode",{parentName:"p"},"_method_location_photos"),") that allows content editors to add multiple photos for that location. In the example below, we'll build a layout component that loops through each location, checks to see if photos have been added for that location, and displays them if available:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-php"},"$args = array(\n    'posts_per_page' => -1,\n    'post_type'   => 'locations',\n    'fields'      => 'ids'\n);\n$items = get_posts( $args );\n$this->html .= '\n    <div id=\"method-location-list\">\n        <div class=\"container-fluid full-width-container\">\n            <div class=\"row justify-content-center\">\n                <div class=\"col-11\">\n';\nforeach ( $items as $item ) {\n    $this->load_meta( $item );\n    $photos = $this->get_serialized_loaded_meta( '_method_location_photos' );\n    $this->html .= '\n        <div class=\"location-row\">\n            <h2>' . get_the_title( $item ) . '</h2>\n    ';\n    if ( $photos ) {\n        if ( is_array( $photos ) ) {\n            $this->html .= '<div class=\"row photo-row\">';\n            foreach ( $photos as $key => $value ) {\n                $this->html .= '\n                    <div class=\"col-12 col-md-6 col-lg-4 photo-col\">\n                        ' . wp_get_attachment_image( $key, 'medium', false, array( 'class' => 'img-fluid' ) ) . '\n                    </div>\n                ';\n            }\n            $this->html .= '</div>';\n        }\n    }\n    $this->html .= '\n        </div>\n    ';\n    $this->unload_meta();\n}\n$this->html .= '\n                </div>\n            </div>\n        </div>\n    </div>\n';\n")))}m.isMDXComponent=!0}}]);